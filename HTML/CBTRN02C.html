
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="CBTRN01C.html">
      
      
        <link rel="next" href="CBTRN03C.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>CBTRN02C - Project Documentation</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
        <script src="assets/external/unpkg.com/iframe-worker/shim.js"></script>
      
    
    
      
        
        
        
        <link rel="stylesheet" href="assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cbtrn02c" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Project Documentation" class="md-header__button md-logo" aria-label="Project Documentation" data-md-component="logo">
      
  <img src="logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Project Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CBTRN02C
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="index.html" class="md-tabs__link">
          
  
  Overview

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="CBACT01C.html" class="md-tabs__link">
          
  
  Technical Documentation

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="backlog/epics/Customer%20Data%20Management%20Infrastructure.html" class="md-tabs__link">
          
  
  Backlog

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Project Documentation" class="md-nav__button md-logo" aria-label="Project Documentation" data-md-component="logo">
      
  <img src="logo.svg" alt="logo">

    </a>
    Project Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Technical Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Technical Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Programs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Programs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CBACT01C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    CBACT01C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CBACT02C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    CBACT02C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CBACT03C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    CBACT03C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CBACT04C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    CBACT04C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CBCUS01C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    CBCUS01C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CBTRN01C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    CBTRN01C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    CBTRN02C
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="CBTRN02C.html" class="md-nav__link md-nav__link--active">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    CBTRN02C
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sequence-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Sequence Diagram
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referenced-copybooks" class="md-nav__link">
    <span class="md-ellipsis">
      Referenced Copybooks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-division" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Division
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment Division">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-output-section" class="md-nav__link">
    <span class="md-ellipsis">
      INPUT-OUTPUT SECTION
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-division" class="md-nav__link">
    <span class="md-ellipsis">
      Data Division
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Division">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-section" class="md-nav__link">
    <span class="md-ellipsis">
      FILE SECTION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-storage-section" class="md-nav__link">
    <span class="md-ellipsis">
      WORKING-STORAGE SECTION
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedure-division" class="md-nav__link">
    <span class="md-ellipsis">
      Procedure Division
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Procedure Division">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0000-dalytran-open" class="md-nav__link">
    <span class="md-ellipsis">
      0000-DALYTRAN-OPEN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0100-tranfile-open" class="md-nav__link">
    <span class="md-ellipsis">
      0100-TRANFILE-OPEN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0200-xreffile-open" class="md-nav__link">
    <span class="md-ellipsis">
      0200-XREFFILE-OPEN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0300-dalyrejs-open" class="md-nav__link">
    <span class="md-ellipsis">
      0300-DALYREJS-OPEN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0400-acctfile-open" class="md-nav__link">
    <span class="md-ellipsis">
      0400-ACCTFILE-OPEN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0500-tcatbalf-open" class="md-nav__link">
    <span class="md-ellipsis">
      0500-TCATBALF-OPEN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1000-dalytran-get-next" class="md-nav__link">
    <span class="md-ellipsis">
      1000-DALYTRAN-GET-NEXT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1500-validate-tran" class="md-nav__link">
    <span class="md-ellipsis">
      1500-VALIDATE-TRAN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1500-a-lookup-xref" class="md-nav__link">
    <span class="md-ellipsis">
      1500-A-LOOKUP-XREF
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1500-b-lookup-acct" class="md-nav__link">
    <span class="md-ellipsis">
      1500-B-LOOKUP-ACCT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2000-post-transaction" class="md-nav__link">
    <span class="md-ellipsis">
      2000-POST-TRANSACTION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2500-write-reject-rec" class="md-nav__link">
    <span class="md-ellipsis">
      2500-WRITE-REJECT-REC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2700-update-tcatbal" class="md-nav__link">
    <span class="md-ellipsis">
      2700-UPDATE-TCATBAL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2700-a-create-tcatbal-rec" class="md-nav__link">
    <span class="md-ellipsis">
      2700-A-CREATE-TCATBAL-REC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2700-b-update-tcatbal-rec" class="md-nav__link">
    <span class="md-ellipsis">
      2700-B-UPDATE-TCATBAL-REC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2800-update-account-rec" class="md-nav__link">
    <span class="md-ellipsis">
      2800-UPDATE-ACCOUNT-REC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2900-write-transaction-file" class="md-nav__link">
    <span class="md-ellipsis">
      2900-WRITE-TRANSACTION-FILE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9000-dalytran-close" class="md-nav__link">
    <span class="md-ellipsis">
      9000-DALYTRAN-CLOSE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9100-tranfile-close" class="md-nav__link">
    <span class="md-ellipsis">
      9100-TRANFILE-CLOSE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9200-xreffile-close" class="md-nav__link">
    <span class="md-ellipsis">
      9200-XREFFILE-CLOSE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9300-dalyrejs-close" class="md-nav__link">
    <span class="md-ellipsis">
      9300-DALYREJS-CLOSE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9400-acctfile-close" class="md-nav__link">
    <span class="md-ellipsis">
      9400-ACCTFILE-CLOSE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9500-tcatbalf-close" class="md-nav__link">
    <span class="md-ellipsis">
      9500-TCATBALF-CLOSE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#z-get-db2-format-timestamp" class="md-nav__link">
    <span class="md-ellipsis">
      Z-GET-DB2-FORMAT-TIMESTAMP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9999-abend-program" class="md-nav__link">
    <span class="md-ellipsis">
      9999-ABEND-PROGRAM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9910-display-io-status" class="md-nav__link">
    <span class="md-ellipsis">
      9910-DISPLAY-IO-STATUS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CBTRN03C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    CBTRN03C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COACTUPC.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COACTUPC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COACTVWC.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COACTVWC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COADM01C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COADM01C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COBIL00C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COBIL00C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COCRDLIC.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COCRDLIC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COCRDSLC.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COCRDSLC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COCRDUPC.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COCRDUPC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COMEN01C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COMEN01C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CORPT00C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    CORPT00C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COSGN00C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COSGN00C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COTRN00C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COTRN00C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COTRN01C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COTRN01C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COTRN02C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COTRN02C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COUSR00C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COUSR00C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COUSR01C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COUSR01C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COUSR02C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COUSR02C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="COUSR03C.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    COUSR03C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CSUTLDTC.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.6 16.6 4.6-4.6-4.6-4.6L16 6l6 6-6 6zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6z"/></svg>
  
  <span class="md-ellipsis">
    CSUTLDTC
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="copybooks/CVCRD01Y.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Copybooks
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="jobs/BMSCMP.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Jobs
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="backlog/epics/Customer%20Data%20Management%20Infrastructure.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Backlog
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sequence-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Sequence Diagram
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referenced-copybooks" class="md-nav__link">
    <span class="md-ellipsis">
      Referenced Copybooks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-division" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Division
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Environment Division">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-output-section" class="md-nav__link">
    <span class="md-ellipsis">
      INPUT-OUTPUT SECTION
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-division" class="md-nav__link">
    <span class="md-ellipsis">
      Data Division
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Division">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-section" class="md-nav__link">
    <span class="md-ellipsis">
      FILE SECTION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-storage-section" class="md-nav__link">
    <span class="md-ellipsis">
      WORKING-STORAGE SECTION
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedure-division" class="md-nav__link">
    <span class="md-ellipsis">
      Procedure Division
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Procedure Division">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0000-dalytran-open" class="md-nav__link">
    <span class="md-ellipsis">
      0000-DALYTRAN-OPEN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0100-tranfile-open" class="md-nav__link">
    <span class="md-ellipsis">
      0100-TRANFILE-OPEN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0200-xreffile-open" class="md-nav__link">
    <span class="md-ellipsis">
      0200-XREFFILE-OPEN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0300-dalyrejs-open" class="md-nav__link">
    <span class="md-ellipsis">
      0300-DALYREJS-OPEN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0400-acctfile-open" class="md-nav__link">
    <span class="md-ellipsis">
      0400-ACCTFILE-OPEN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0500-tcatbalf-open" class="md-nav__link">
    <span class="md-ellipsis">
      0500-TCATBALF-OPEN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1000-dalytran-get-next" class="md-nav__link">
    <span class="md-ellipsis">
      1000-DALYTRAN-GET-NEXT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1500-validate-tran" class="md-nav__link">
    <span class="md-ellipsis">
      1500-VALIDATE-TRAN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1500-a-lookup-xref" class="md-nav__link">
    <span class="md-ellipsis">
      1500-A-LOOKUP-XREF
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1500-b-lookup-acct" class="md-nav__link">
    <span class="md-ellipsis">
      1500-B-LOOKUP-ACCT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2000-post-transaction" class="md-nav__link">
    <span class="md-ellipsis">
      2000-POST-TRANSACTION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2500-write-reject-rec" class="md-nav__link">
    <span class="md-ellipsis">
      2500-WRITE-REJECT-REC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2700-update-tcatbal" class="md-nav__link">
    <span class="md-ellipsis">
      2700-UPDATE-TCATBAL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2700-a-create-tcatbal-rec" class="md-nav__link">
    <span class="md-ellipsis">
      2700-A-CREATE-TCATBAL-REC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2700-b-update-tcatbal-rec" class="md-nav__link">
    <span class="md-ellipsis">
      2700-B-UPDATE-TCATBAL-REC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2800-update-account-rec" class="md-nav__link">
    <span class="md-ellipsis">
      2800-UPDATE-ACCOUNT-REC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2900-write-transaction-file" class="md-nav__link">
    <span class="md-ellipsis">
      2900-WRITE-TRANSACTION-FILE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9000-dalytran-close" class="md-nav__link">
    <span class="md-ellipsis">
      9000-DALYTRAN-CLOSE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9100-tranfile-close" class="md-nav__link">
    <span class="md-ellipsis">
      9100-TRANFILE-CLOSE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9200-xreffile-close" class="md-nav__link">
    <span class="md-ellipsis">
      9200-XREFFILE-CLOSE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9300-dalyrejs-close" class="md-nav__link">
    <span class="md-ellipsis">
      9300-DALYREJS-CLOSE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9400-acctfile-close" class="md-nav__link">
    <span class="md-ellipsis">
      9400-ACCTFILE-CLOSE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9500-tcatbalf-close" class="md-nav__link">
    <span class="md-ellipsis">
      9500-TCATBALF-CLOSE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#z-get-db2-format-timestamp" class="md-nav__link">
    <span class="md-ellipsis">
      Z-GET-DB2-FORMAT-TIMESTAMP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9999-abend-program" class="md-nav__link">
    <span class="md-ellipsis">
      9999-ABEND-PROGRAM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9910-display-io-status" class="md-nav__link">
    <span class="md-ellipsis">
      9910-DISPLAY-IO-STATUS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="cbtrn02c">CBTRN02C</h1>
<h2 id="overview">Overview</h2>
<p>This batch COBOL program (CBTRN02C) processes daily credit card transactions from a sequential input file and posts them to various account and transaction files. The program reads each transaction record, validates it against account and card reference data, and then updates account balances and transaction category balances accordingly.</p>
<p>The program performs several key functions:
1. Validates transactions by checking card numbers against a cross-reference file
2. Verifies account existence, credit limits, and expiration dates
3. Updates account balances (current balance, cycle credits/debits)
4. Updates transaction category balances by account
5. Writes valid transactions to a transaction file
6. Writes rejected transactions to a rejection file with reason codes</p>
<p>The validation process includes checks for invalid card numbers, non-existent accounts, over-limit transactions, and expired accounts. For valid transactions, the program updates multiple files to reflect the transaction, including the account master file and a transaction category balance file.</p>
<p>The program maintains counters for processed and rejected transactions, and sets a non-zero return code if any transactions are rejected. It includes comprehensive error handling for file operations and displays detailed status information when errors occur.</p>
<h2 id="metadata">Metadata</h2>
<p><strong>Program ID</strong>: <code>CBTRN02C</code></p>
<p><strong>Author</strong>: <code>AWS</code></p>
<h2 id="sequence-diagram">Sequence Diagram</h2>
<pre class="mermaid"><code>sequenceDiagram
    participant Main as Main Program
    participant InputFiles as Input Files
    participant OutputFiles as Output Files
    participant Validation as Validation Logic
    participant Processing as Transaction Processing

    Main-&gt;&gt;InputFiles: 0000-DALYTRAN-OPEN
    Main-&gt;&gt;OutputFiles: 0100-TRANFILE-OPEN
    Main-&gt;&gt;InputFiles: 0200-XREFFILE-OPEN
    Main-&gt;&gt;OutputFiles: 0300-DALYREJS-OPEN
    Main-&gt;&gt;InputFiles: 0400-ACCTFILE-OPEN
    Main-&gt;&gt;InputFiles: 0500-TCATBALF-OPEN

    loop Until End-Of-File
        Main-&gt;&gt;InputFiles: 1000-DALYTRAN-GET-NEXT
        alt Not End-Of-File
            Main-&gt;&gt;Validation: 1500-VALIDATE-TRAN
            Validation-&gt;&gt;InputFiles: 1500-A-LOOKUP-XREF (Card validation)
            alt Valid Card
                Validation-&gt;&gt;InputFiles: 1500-B-LOOKUP-ACCT (Account validation)
                alt Valid Transaction
                    Main-&gt;&gt;Processing: 2000-POST-TRANSACTION
                    Processing-&gt;&gt;InputFiles: 2700-UPDATE-TCATBAL
                    Processing-&gt;&gt;InputFiles: 2700-A-CREATE-TCATBAL-REC/2700-B-UPDATE-TCATBAL-REC
                    Processing-&gt;&gt;InputFiles: 2800-UPDATE-ACCOUNT-REC
                    Processing-&gt;&gt;OutputFiles: 2900-WRITE-TRANSACTION-FILE
                else Invalid Transaction
                    Main-&gt;&gt;OutputFiles: 2500-WRITE-REJECT-REC
                end
            else Invalid Card
                Main-&gt;&gt;OutputFiles: 2500-WRITE-REJECT-REC
            end
        end
    end

    Main-&gt;&gt;InputFiles: 9000-DALYTRAN-CLOSE
    Main-&gt;&gt;OutputFiles: 9100-TRANFILE-CLOSE
    Main-&gt;&gt;InputFiles: 9200-XREFFILE-CLOSE
    Main-&gt;&gt;OutputFiles: 9300-DALYREJS-CLOSE
    Main-&gt;&gt;InputFiles: 9400-ACCTFILE-CLOSE
    Main-&gt;&gt;InputFiles: 9500-TCATBALF-CLOSE</code></pre>
<h2 id="referenced-copybooks">Referenced Copybooks</h2>
<ul>
<li><a href="copybooks/CVACT01Y.html"><code>CVACT01Y</code></a></li>
<li><a href="copybooks/CVTRA05Y.html"><code>CVTRA05Y</code></a></li>
<li><a href="copybooks/CVTRA01Y.html"><code>CVTRA01Y</code></a></li>
<li><a href="copybooks/CVACT03Y.html"><code>CVACT03Y</code></a></li>
<li><a href="copybooks/CVTRA06Y.html"><code>CVTRA06Y</code></a></li>
</ul>
<h2 id="environment-division">Environment Division</h2>
<h3 id="input-output-section">INPUT-OUTPUT SECTION</h3>
<p>This section defines the file assignments and access methods for the transaction processing program. It specifies six files:</p>
<ol>
<li>
<p>DALYTRAN-FILE: A sequential input file containing the daily credit card transactions to be processed.</p>
</li>
<li>
<p>TRANSACT-FILE: An indexed file accessed randomly by transaction ID (FD-TRANS-ID) where valid transactions are written.</p>
</li>
<li>
<p>XREF-FILE: An indexed file accessed randomly by card number (FD-XREF-CARD-NUM) used to validate credit card numbers.</p>
</li>
<li>
<p>DALYREJS-FILE: A sequential output file where rejected transactions are written.</p>
</li>
<li>
<p>ACCOUNT-FILE: An indexed file accessed randomly by account ID (FD-ACCT-ID) containing account master information.</p>
</li>
<li>
<p>TCATBAL-FILE: An indexed file accessed randomly by transaction category key (FD-TRAN-CAT-KEY) used to track transaction balances by category.</p>
</li>
</ol>
<p>Each file definition includes its organization type, access method, key field (for indexed files), and a status field for error handling.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c">FILE-C</span><span class="nv">ONTROL</span><span class="p">.</span><span class="w">                                                            </span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c">      </span><span class="w">     </span><span class="kp">SELECT</span><span class="w"> </span><span class="nv">DALYTRAN-FILE</span><span class="w"> </span><span class="kp">ASSIGN</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">DALYTRAN</span><span class="w">                              </span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c">      </span><span class="w">            </span><span class="kp">ORGANIZATION</span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">SEQUENTIAL                                    </span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kp">                 </span><span class="w"> </span><span class="kp">ACCESS</span><span class="w"> </span><span class="kp">MODE </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">SEQUENTIAL                                    </span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kp">                 </span><span class="w"> </span><span class="kr">FILE</span><span class="w"> </span><span class="kp">STATUS </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="nv">DALYTRAN-STATUS</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c">      </span><span class="w">     </span><span class="kp">SELECT</span><span class="w"> </span><span class="nv">TRANSACT-FILE</span><span class="w"> </span><span class="kp">ASSIGN</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">TRANFILE</span><span class="w">                              </span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c">      </span><span class="w">            </span><span class="kp">ORGANIZATION</span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">INDEXED                                       </span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="kp">                 </span><span class="w"> </span><span class="kp">ACCESS</span><span class="w"> </span><span class="kp">MODE </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">RANDOM                                        </span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="kp">                 </span><span class="w"> </span><span class="kp">RECORD</span><span class="w"> </span><span class="kp">KEY  </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="nv">FD-TRANS-ID</span><span class="w">                                   </span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="c">      </span><span class="w">            </span><span class="kr">FILE</span><span class="w"> </span><span class="kp">STATUS </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="nv">TRANFILE-STATUS</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="c">      </span><span class="w">     </span><span class="kp">SELECT</span><span class="w"> </span><span class="nv">XREF-FILE</span><span class="w"> </span><span class="kp">ASSIGN</span><span class="w"> </span><span class="kp">TO  </span><span class="w"> </span><span class="nv">XREFFILE</span><span class="w">                                </span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="c">      </span><span class="w">            </span><span class="kp">ORGANIZATION</span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">INDEXED                                       </span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="kp">                 </span><span class="w"> </span><span class="kp">ACCESS</span><span class="w"> </span><span class="kp">MODE </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">RANDOM                                        </span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="kp">                 </span><span class="w"> </span><span class="kp">RECORD</span><span class="w"> </span><span class="kp">KEY  </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="nv">FD-XREF-CARD-NUM</span><span class="w">                              </span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="c">      </span><span class="w">            </span><span class="kr">FILE</span><span class="w"> </span><span class="kp">STATUS </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="nv">XREFFILE-STATUS</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="c">      </span><span class="w">     </span><span class="kp">SELECT</span><span class="w"> </span><span class="nv">DALYREJS-FILE</span><span class="w"> </span><span class="kp">ASSIGN</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">DALYREJS</span><span class="w">                              </span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="c">      </span><span class="w">            </span><span class="kp">ORGANIZATION</span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">SEQUENTIAL                                    </span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="kp">                 </span><span class="w"> </span><span class="kp">ACCESS</span><span class="w"> </span><span class="kp">MODE </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">SEQUENTIAL                                    </span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="kp">                 </span><span class="w"> </span><span class="kr">FILE</span><span class="w"> </span><span class="kp">STATUS </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="nv">DALYREJS-STATUS</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="c">      </span><span class="w">     </span><span class="kp">SELECT</span><span class="w"> </span><span class="nv">ACCOUNT-FILE</span><span class="w"> </span><span class="kp">ASSIGN</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">ACCTFILE</span><span class="w">                               </span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="c">      </span><span class="w">            </span><span class="kp">ORGANIZATION</span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">INDEXED                                       </span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="kp">                 </span><span class="w"> </span><span class="kp">ACCESS</span><span class="w"> </span><span class="kp">MODE </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">RANDOM                                        </span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="kp">                 </span><span class="w"> </span><span class="kp">RECORD</span><span class="w"> </span><span class="kp">KEY  </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="nv">FD-ACCT-ID</span><span class="w">                                    </span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="c">      </span><span class="w">            </span><span class="kr">FILE</span><span class="w"> </span><span class="kp">STATUS </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="nv">ACCTFILE-STATUS</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a><span class="c">      </span><span class="w">     </span><span class="kp">SELECT</span><span class="w"> </span><span class="nv">TCATBAL-FILE</span><span class="w"> </span><span class="kp">ASSIGN</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">TCATBALF</span><span class="w">                               </span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="c">      </span><span class="w">            </span><span class="kp">ORGANIZATION</span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">INDEXED                                       </span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a><span class="kp">                 </span><span class="w"> </span><span class="kp">ACCESS</span><span class="w"> </span><span class="kp">MODE </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">RANDOM                                        </span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a><span class="kp">                 </span><span class="w"> </span><span class="kp">RECORD</span><span class="w"> </span><span class="kp">KEY  </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="nv">FD-TRAN-CAT-KEY</span><span class="w">                               </span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a><span class="c">      </span><span class="w">            </span><span class="kr">FILE</span><span class="w"> </span><span class="kp">STATUS </span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="nv">TCATBALF-STATUS</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a><span class="c">      *</span>
</code></pre></div>
</details>

<h2 id="data-division">Data Division</h2>
<h3 id="file-section">FILE SECTION</h3>
<p>This File Section defines the structure of six key files used in the transaction processing program. It includes:</p>
<ol>
<li>
<p>DALYTRAN-FILE: The input file containing daily credit card transactions with a 16-character transaction ID followed by customer data.</p>
</li>
<li>
<p>TRANSACT-FILE: The output file for valid processed transactions, maintaining a similar structure to the input file.</p>
</li>
<li>
<p>XREF-FILE: A cross-reference file used to validate card numbers against accounts, containing the card number and associated reference data.</p>
</li>
<li>
<p>DALYREJS-FILE: The output file for rejected transactions, which includes both the original transaction record and an 80-character validation message explaining the rejection reason.</p>
</li>
<li>
<p>ACCOUNT-FILE: The master account file containing account information with an 11-digit numeric account ID as the key field.</p>
</li>
<li>
<p>TCATBAL-FILE: A transaction category balance file that tracks balances by account ID, transaction type, and category code, used for categorizing and summarizing transaction activity.</p>
</li>
</ol>
<p>These file definitions support the program's core functions of transaction validation, account updates, and transaction categorization.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c">FD  DA</span><span class="nv">LYTRAN-FILE</span><span class="p">.</span><span class="w">                                                       </span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">FD-TRAN-RECORD</span><span class="p">.</span><span class="w">                                                      </span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">FD-TRAN-ID</span><span class="w">                        </span><span class="kt">PIC X(16)</span><span class="p">.</span><span class="w">                      </span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">FD-CUST-DATA</span><span class="w">                      </span><span class="kt">PIC X(334)</span><span class="p">.</span><span class="w">                     </span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="c">      </span><span class="w"> </span><span class="kr">FD </span><span class="w"> </span><span class="nv">TRANSACT-FILE</span><span class="p">.</span><span class="w">                                                       </span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">FD-TRANFILE-REC</span><span class="p">.</span><span class="w">                                                     </span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">FD-TRANS-ID</span><span class="w">                       </span><span class="kt">PIC X(16)</span><span class="p">.</span><span class="w">                      </span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">FD-ACCT-DATA</span><span class="w">                      </span><span class="kt">PIC X(334)</span><span class="p">.</span><span class="w">                     </span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="c">      </span><span class="w"> </span><span class="kr">FD </span><span class="w"> </span><span class="nv">XREF-FILE</span><span class="p">.</span><span class="w">                                                           </span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">FD-XREFFILE-REC</span><span class="p">.</span><span class="w">                                                     </span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">FD-XREF-CARD-NUM</span><span class="w">                  </span><span class="kt">PIC X(16)</span><span class="p">.</span><span class="w">                      </span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">FD-XREF-DATA</span><span class="w">                      </span><span class="kt">PIC X(34)</span><span class="p">.</span><span class="w">                      </span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="c">      </span><span class="w"> </span><span class="kr">FD </span><span class="w"> </span><span class="nv">DALYREJS-FILE</span><span class="p">.</span><span class="w">                                                       </span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">FD-REJS-RECORD</span><span class="p">.</span><span class="w">                                                      </span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">FD-REJECT-RECORD</span><span class="w">                  </span><span class="kt">PIC X(350)</span><span class="p">.</span><span class="w">                     </span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">FD-VALIDATION-TRAILER</span><span class="w">             </span><span class="kt">PIC X(80)</span><span class="p">.</span><span class="w">                      </span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="c">      </span><span class="w"> </span><span class="kr">FD </span><span class="w"> </span><span class="nv">ACCOUNT-FILE</span><span class="p">.</span><span class="w">                                                        </span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">FD-ACCTFILE-REC</span><span class="p">.</span><span class="w">                                                     </span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">FD-ACCT-ID</span><span class="w">                        </span><span class="kt">PIC 9(11)</span><span class="p">.</span><span class="w">                      </span>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">FD-ACCT-DATA</span><span class="w">                      </span><span class="kt">PIC X(289)</span><span class="p">.</span><span class="w">                     </span>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="c">      </span><span class="w"> </span><span class="kr">FD </span><span class="w"> </span><span class="nv">TCATBAL-FILE</span><span class="p">.</span><span class="w">                                                        </span>
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">FD-TRAN-CAT-BAL-RECORD</span><span class="p">.</span><span class="w">                                              </span>
<a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">FD-TRAN-CAT-KEY</span><span class="p">.</span><span class="w">                                                  </span>
<a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="c">      </span><span class="w">        </span><span class="mi">10 </span><span class="nv">FD-TRANCAT-ACCT-ID</span><span class="w">             </span><span class="kt">PIC 9(11)</span><span class="p">.</span><span class="w">                      </span>
<a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="c">      </span><span class="w">        </span><span class="mi">10 </span><span class="nv">FD-TRANCAT-TYPE-CD</span><span class="w">             </span><span class="kt">PIC X(02)</span><span class="p">.</span><span class="w">                      </span>
<a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="c">      </span><span class="w">        </span><span class="mi">10 </span><span class="nv">FD-TRANCAT-CD</span><span class="w">                  </span><span class="kt">PIC 9(04)</span><span class="p">.</span><span class="w">                      </span>
<a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">FD-FD-TRAN-CAT-DATA</span><span class="w">               </span><span class="kt">PIC X(33)</span><span class="p">.</span>
</code></pre></div>
</details>

<h3 id="working-storage-section">WORKING-STORAGE SECTION</h3>
<p>This Working Storage Section defines the data structures used by the CBTRN02C program for processing credit card transactions. It includes file status variables for all files used in the program (daily transactions, transaction file, cross-reference file, rejection file, account file, and transaction category balance file). The section also contains utility fields for I/O operations, binary conversions, and timestamp formatting.</p>
<p>Key components include error handling structures (IO-STATUS fields and APPL-RESULT), timestamp fields for formatting between COBOL and DB2 formats, a REJECT-RECORD structure for storing invalid transactions with their failure reasons, and program counters to track processed and rejected transactions. The WS-FLAGS area includes a flag to determine when transaction category records need to be created.</p>
<p>The section incorporates several copybooks (CVTRA06Y, CVTRA05Y, CVACT03Y, CVACT01Y, CVTRA01Y) which likely contain record layouts for the various files processed by the program.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c">*****************************************************************         </span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="c">      </span><span class="w"> </span><span class="kp">COPY</span><span class="w"> </span><span class="nv">CVTRA06Y</span><span class="p">.</span><span class="w">                                                           </span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">DALYTRAN-STATUS</span><span class="p">.</span><span class="w">                                                     </span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">DALYTRAN-STAT1</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">DALYTRAN-STAT2</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="c">      </span><span class="w"> </span><span class="kp">COPY</span><span class="w"> </span><span class="nv">CVTRA05Y</span><span class="p">.</span><span class="w">                                                           </span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">TRANFILE-STATUS</span><span class="p">.</span><span class="w">                                                     </span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">TRANFILE-STAT1</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">TRANFILE-STAT2</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="c">      </span><span class="w"> </span><span class="kp">COPY</span><span class="w"> </span><span class="nv">CVACT03Y</span><span class="p">.</span><span class="w">                                                           </span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">XREFFILE-STATUS</span><span class="p">.</span><span class="w">                                                     </span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">XREFFILE-STAT1</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">XREFFILE-STAT2</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">DALYREJS-STATUS</span><span class="p">.</span><span class="w">                                                     </span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">DALYREJS-STAT1</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">DALYREJS-STAT2</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="c">      </span><span class="w"> </span><span class="kp">COPY</span><span class="w"> </span><span class="nv">CVACT01Y</span><span class="p">.</span><span class="w">                                                           </span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">ACCTFILE-STATUS</span><span class="p">.</span><span class="w">                                                     </span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">ACCTFILE-STAT1</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">ACCTFILE-STAT2</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="c">      </span><span class="w"> </span><span class="kp">COPY</span><span class="w"> </span><span class="nv">CVTRA01Y</span><span class="p">.</span><span class="w">                                                           </span>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">TCATBALF-STATUS</span><span class="p">.</span><span class="w">                                                     </span>
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">TCATBALF-STAT1</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">TCATBALF-STAT2</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a>
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">IO-STATUS</span><span class="p">.</span><span class="w">                                                           </span>
<a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">IO-STAT1</span><span class="w">            </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">IO-STAT2</span><span class="w">            </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">TWO-BYTES-BINARY</span><span class="w">        </span><span class="kt">PIC 9(4)</span><span class="w"> </span><span class="kt">BINARY</span><span class="p">.</span><span class="w">                             </span>
<a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">TWO-BYTES-ALPHA</span><span class="w">         </span><span class="kp">REDEFINES</span><span class="w"> </span><span class="nv">TWO-BYTES-BINARY</span><span class="p">.</span><span class="w">                  </span>
<a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">TWO-BYTES-LEFT</span><span class="w">      </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">TWO-BYTES-RIGHT</span><span class="w">     </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                       </span>
<a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">IO-STATUS-04</span><span class="p">.</span><span class="w">                                                        </span>
<a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">IO-STATUS-0401</span><span class="w">      </span><span class="kt">PIC 9  </span><span class="w"> </span><span class="kp">VALUE</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="w">                             </span>
<a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a><span class="c">      </span><span class="w">     </span><span class="mi">05  </span><span class="nv">IO-STATUS-0403</span><span class="w">      </span><span class="kt">PIC 999</span><span class="w"> </span><span class="kp">VALUE</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="w">                             </span>
<a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a>
<a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">APPL-RESULT</span><span class="w">             </span><span class="kt">PIC S9(9)  </span><span class="w"> </span><span class="kt">COMP</span><span class="p">.</span><span class="w">                            </span>
<a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a><span class="c">      </span><span class="w">     </span><span class="mi">88  </span><span class="nv">APPL-AOK</span><span class="w">            </span><span class="kp">VALUE</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="w">                                     </span>
<a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a><span class="c">      </span><span class="w">     </span><span class="mi">88  </span><span class="nv">APPL-EOF</span><span class="w">            </span><span class="kp">VALUE</span><span class="w"> </span><span class="mi">16</span><span class="p">.</span><span class="w">                                    </span>
<a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a>
<a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">END-OF-FILE</span><span class="w">             </span><span class="kt">PIC X(01)   </span><span class="w"> </span><span class="kp">VALUE </span><span class="s1">&#39;N&#39;</span><span class="p">.</span><span class="w">                      </span>
<a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">ABCODE</span><span class="w">                  </span><span class="kt">PIC S9(9)</span><span class="w"> </span><span class="kt">BINARY</span><span class="p">.</span><span class="w">                            </span>
<a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">TIMING</span><span class="w">                  </span><span class="kt">PIC S9(9)</span><span class="w"> </span><span class="kt">BINARY</span><span class="p">.</span><span class="w">                            </span>
<a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a><span class="c">      * T I M E S T A M P   D B 2  X(26)     EEEE-MM-DD-UU.MM.SS.HH0000         </span>
<a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">COBOL-TS</span><span class="p">.</span><span class="w">                                                            </span>
<a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">COB-YYYY</span><span class="w">                  </span><span class="kt">PIC X(04)</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">COB-MM</span><span class="w">                    </span><span class="kt">PIC X(02)</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-2-53" name="__codelineno-2-53" href="#__codelineno-2-53"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">COB-DD</span><span class="w">                    </span><span class="kt">PIC X(02)</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-2-54" name="__codelineno-2-54" href="#__codelineno-2-54"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">COB-HH</span><span class="w">                    </span><span class="kt">PIC X(02)</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-2-55" name="__codelineno-2-55" href="#__codelineno-2-55"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">COB-MIN</span><span class="w">                   </span><span class="kt">PIC X(02)</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-2-56" name="__codelineno-2-56" href="#__codelineno-2-56"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">COB-SS</span><span class="w">                    </span><span class="kt">PIC X(02)</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-2-57" name="__codelineno-2-57" href="#__codelineno-2-57"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">COB-MIL</span><span class="w">                   </span><span class="kt">PIC X(02)</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-2-58" name="__codelineno-2-58" href="#__codelineno-2-58"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">COB-REST</span><span class="w">                  </span><span class="kt">PIC X(05)</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-2-59" name="__codelineno-2-59" href="#__codelineno-2-59"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="nv">DB2-FORMAT-TS</span><span class="w">                </span><span class="kt">PIC X(26)</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-2-60" name="__codelineno-2-60" href="#__codelineno-2-60"></a><span class="c">      </span><span class="w"> </span><span class="mi">01  </span><span class="kp">FILLER</span><span class="w"> </span><span class="kp">REDEFINES</span><span class="w"> </span><span class="nv">DB2-FORMAT-TS</span><span class="p">.</span><span class="w">                                      </span>
<a id="__codelineno-2-61" name="__codelineno-2-61" href="#__codelineno-2-61"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-YYYY</span><span class="w">                  </span><span class="kt">PIC X(004)</span><span class="p">.</span><span class="w">                      </span><span class="nf">E      </span>
<a id="__codelineno-2-62" name="__codelineno-2-62" href="#__codelineno-2-62"></a><span class="nf">          </span><span class="w"> </span><span class="mi">06 </span><span class="nv">DB2-STREEP-1</span><span class="w">              </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                           </span><span class="o">-</span><span class="w">      </span>
<a id="__codelineno-2-63" name="__codelineno-2-63" href="#__codelineno-2-63"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-MM</span><span class="w">                    </span><span class="kt">PIC X(002)</span><span class="p">.</span><span class="w">                      </span><span class="nv">M</span><span class="w">      </span>
<a id="__codelineno-2-64" name="__codelineno-2-64" href="#__codelineno-2-64"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-STREEP-2</span><span class="w">              </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                           </span><span class="o">-</span><span class="w">      </span>
<a id="__codelineno-2-65" name="__codelineno-2-65" href="#__codelineno-2-65"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-DD</span><span class="w">                    </span><span class="kt">PIC X(002)</span><span class="p">.</span><span class="w">                      </span><span class="nv">D</span><span class="w">      </span>
<a id="__codelineno-2-66" name="__codelineno-2-66" href="#__codelineno-2-66"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-STREEP-3</span><span class="w">              </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                           </span><span class="o">-</span><span class="w">      </span>
<a id="__codelineno-2-67" name="__codelineno-2-67" href="#__codelineno-2-67"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-HH</span><span class="w">                    </span><span class="kt">PIC X(002)</span><span class="p">.</span><span class="w">                      </span><span class="nv">U</span><span class="w">      </span>
<a id="__codelineno-2-68" name="__codelineno-2-68" href="#__codelineno-2-68"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-DOT-1</span><span class="w">                 </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                  </span>
<a id="__codelineno-2-69" name="__codelineno-2-69" href="#__codelineno-2-69"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-MIN</span><span class="w">                   </span><span class="kt">PIC X(002)</span><span class="p">.</span><span class="w">                             </span>
<a id="__codelineno-2-70" name="__codelineno-2-70" href="#__codelineno-2-70"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-DOT-2</span><span class="w">                 </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                  </span>
<a id="__codelineno-2-71" name="__codelineno-2-71" href="#__codelineno-2-71"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-SS</span><span class="w">                    </span><span class="kt">PIC X(002)</span><span class="p">.</span><span class="w">                             </span>
<a id="__codelineno-2-72" name="__codelineno-2-72" href="#__codelineno-2-72"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-DOT-3</span><span class="w">                 </span><span class="kt">PIC X</span><span class="p">.</span><span class="w">                                  </span>
<a id="__codelineno-2-73" name="__codelineno-2-73" href="#__codelineno-2-73"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-MIL</span><span class="w">                   </span><span class="kt">PIC 9(002)</span><span class="p">.</span><span class="w">                             </span>
<a id="__codelineno-2-74" name="__codelineno-2-74" href="#__codelineno-2-74"></a><span class="c">      </span><span class="w">     </span><span class="mi">06 </span><span class="nv">DB2-REST</span><span class="w">                  </span><span class="kt">PIC X(04)</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-2-75" name="__codelineno-2-75" href="#__codelineno-2-75"></a>
<a id="__codelineno-2-76" name="__codelineno-2-76" href="#__codelineno-2-76"></a><span class="c">      </span><span class="w">  </span><span class="mi">01 </span><span class="nv">REJECT-RECORD</span><span class="p">.</span><span class="w">                                                       </span>
<a id="__codelineno-2-77" name="__codelineno-2-77" href="#__codelineno-2-77"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">REJECT-TRAN-DATA</span><span class="w">          </span><span class="kt">PIC X(350)</span><span class="p">.</span><span class="w">                             </span>
<a id="__codelineno-2-78" name="__codelineno-2-78" href="#__codelineno-2-78"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">VALIDATION-TRAILER</span><span class="w">        </span><span class="kt">PIC X(80)</span><span class="p">.</span><span class="w">                              </span>
<a id="__codelineno-2-79" name="__codelineno-2-79" href="#__codelineno-2-79"></a>
<a id="__codelineno-2-80" name="__codelineno-2-80" href="#__codelineno-2-80"></a><span class="c">      </span><span class="w">  </span><span class="mi">01 </span><span class="nv">WS-VALIDATION-TRAILER</span><span class="p">.</span><span class="w">                                               </span>
<a id="__codelineno-2-81" name="__codelineno-2-81" href="#__codelineno-2-81"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">WS-VALIDATION-FAIL-REASON</span><span class="w">      </span><span class="kt">PIC 9(04)</span><span class="p">.</span><span class="w">                         </span>
<a id="__codelineno-2-82" name="__codelineno-2-82" href="#__codelineno-2-82"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">WS-VALIDATION-FAIL-REASON-DESC</span><span class="w"> </span><span class="kt">PIC X(76)</span><span class="p">.</span><span class="w">                         </span>
<a id="__codelineno-2-83" name="__codelineno-2-83" href="#__codelineno-2-83"></a>
<a id="__codelineno-2-84" name="__codelineno-2-84" href="#__codelineno-2-84"></a><span class="c">      </span><span class="w">  </span><span class="mi">01 </span><span class="nv">WS-COUNTERS</span><span class="p">.</span><span class="w">                                                         </span>
<a id="__codelineno-2-85" name="__codelineno-2-85" href="#__codelineno-2-85"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">WS-TRANSACTION-COUNT</span><span class="w">          </span><span class="kt">PIC 9(09)</span><span class="w"> </span><span class="kp">VALUE</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="w">                  </span>
<a id="__codelineno-2-86" name="__codelineno-2-86" href="#__codelineno-2-86"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">WS-REJECT-COUNT</span><span class="w">               </span><span class="kt">PIC 9(09)</span><span class="w"> </span><span class="kp">VALUE</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="w">                  </span>
<a id="__codelineno-2-87" name="__codelineno-2-87" href="#__codelineno-2-87"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">WS-TEMP-BAL</span><span class="w">                   </span><span class="kt">PIC S9(09)V99</span><span class="p">.</span><span class="w">                      </span>
<a id="__codelineno-2-88" name="__codelineno-2-88" href="#__codelineno-2-88"></a>
<a id="__codelineno-2-89" name="__codelineno-2-89" href="#__codelineno-2-89"></a><span class="c">      </span><span class="w">  </span><span class="mi">01 </span><span class="nv">WS-FLAGS</span><span class="p">.</span><span class="w">                                                            </span>
<a id="__codelineno-2-90" name="__codelineno-2-90" href="#__codelineno-2-90"></a><span class="c">      </span><span class="w">     </span><span class="mi">05 </span><span class="nv">WS-CREATE-TRANCAT-REC</span><span class="w">         </span><span class="kt">PIC X(01)</span><span class="w"> </span><span class="kp">VALUE </span><span class="s1">&#39;N&#39;</span><span class="p">.</span><span class="w">                </span>
<a id="__codelineno-2-91" name="__codelineno-2-91" href="#__codelineno-2-91"></a>
<a id="__codelineno-2-92" name="__codelineno-2-92" href="#__codelineno-2-92"></a><span class="c">      *****************************************************************</span>
</code></pre></div>
</details>

<h2 id="procedure-division">Procedure Division</h2>
<h3 id="0000-dalytran-open">0000-DALYTRAN-OPEN</h3>
<p>This paragraph handles the opening of the DALYTRAN-FILE, which contains the daily credit card transactions to be processed. It initializes APPL-RESULT to 8, attempts to open the input file, and then sets APPL-RESULT to 0 if successful or 12 if unsuccessful. If the file open operation fails (APPL-RESULT not equal to 0), the paragraph displays an error message, captures the file status code, calls a routine to display detailed I/O status information, and then terminates the program abnormally. This is a critical initialization step that ensures the primary input file is available before proceeding with transaction processing.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                               </span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">OPEN</span><span class="w"> </span><span class="kp">INPUT</span><span class="w"> </span><span class="nv">DALYTRAN-FILE</span><span class="w">                                             </span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">DALYTRAN-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR OPENING DALYTRAN&#39;</span><span class="w">                                 </span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">DALYTRAN-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                                </span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="0100-tranfile-open">0100-TRANFILE-OPEN</h3>
<p>This paragraph handles the opening of the transaction output file. It attempts to open the TRANSACT-FILE in OUTPUT mode and then validates the operation's success. If the file opens successfully (status '00'), it sets APPL-RESULT to 0 indicating success. If the open operation fails, it sets APPL-RESULT to 12 indicating an error. When an error occurs, the paragraph displays an error message, captures the file status code, calls a routine to display detailed I/O status information, and then terminates the program abnormally. This is a critical initialization step that ensures the program can write transaction records to the output file before proceeding with transaction processing.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                               </span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">OPEN</span><span class="w"> </span><span class="kp">OUTPUT</span><span class="w"> </span><span class="nv">TRANSACT-FILE</span><span class="w">                                            </span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">TRANFILE-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR OPENING TRANSACTION FILE&#39;</span><span class="w">                         </span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">TRANFILE-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                                </span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="0200-xreffile-open">0200-XREFFILE-OPEN</h3>
<p>This paragraph handles the opening of the cross-reference file (XREF-FILE) used to validate card numbers. It initializes the application result code to 8, attempts to open the file in INPUT mode, and then checks the operation's success. If the file opens successfully (status '00'), the result code is set to 0; otherwise, it's set to 12. When an error occurs, the paragraph displays an error message, captures the file status code, calls a routine to display detailed I/O status information, and then aborts the program execution. This is a critical initialization step as the cross-reference file is essential for transaction validation in the main processing logic.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                               </span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">OPEN</span><span class="w"> </span><span class="kp">INPUT</span><span class="w"> </span><span class="nv">XREF-FILE</span><span class="w">                                                 </span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">XREFFILE-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR OPENING CROSS REF FILE&#39;</span><span class="w">                           </span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">XREFFILE-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                                </span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="0300-dalyrejs-open">0300-DALYREJS-OPEN</h3>
<p>This paragraph handles the opening of the daily rejects output file (DALYREJS-FILE). It initializes the application result code to 8, attempts to open the file, and then sets the result code to 0 if successful or 12 if unsuccessful. If the file open operation fails, the paragraph displays an error message, calls a routine to display the I/O status details, and then terminates the program abnormally. This is part of the program's error handling for file operations that ensures proper initialization of the rejection file where invalid transactions will be written.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                               </span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">OPEN</span><span class="w"> </span><span class="kp">OUTPUT</span><span class="w"> </span><span class="nv">DALYREJS-FILE</span><span class="w">                                            </span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">DALYREJS-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR OPENING DALY REJECTS FILE&#39;</span><span class="w">                        </span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">DALYREJS-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                                </span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="0400-acctfile-open">0400-ACCTFILE-OPEN</h3>
<p>This paragraph handles the opening of the Account Master file in I-O (input-output) mode. It first sets a default error code of 8, then attempts to open the file. If the operation is successful (status code '00'), it resets the result code to 0; otherwise, it sets a more severe error code of 12. When an error occurs, the paragraph displays an error message, captures the file status code, calls a routine to display detailed I/O status information, and then terminates the program abnormally. This is a critical initialization step that ensures the program has proper access to the account data before proceeding with transaction processing.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                               </span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">OPEN</span><span class="w"> </span><span class="kp">I-O </span><span class="w"> </span><span class="nv">ACCOUNT-FILE</span><span class="w">                                               </span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">ACCTFILE-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR OPENING ACCOUNT MASTER FILE&#39;</span><span class="w">                      </span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">ACCTFILE-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                                </span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="0500-tcatbalf-open">0500-TCATBALF-OPEN</h3>
<p>This paragraph attempts to open the Transaction Category Balance file in I-O (input-output) mode. It sets an initial result code of 8, then attempts the file open operation. If the file opens successfully (status '00'), it resets the result code to 0; otherwise, it sets a more severe error code of 12. If the operation fails, the paragraph displays an error message, shows the specific file status code through the 9910-DISPLAY-IO-STATUS paragraph, and then terminates the program by calling the 9999-ABEND-PROGRAM paragraph. This is a critical file operation as the program needs to update transaction category balances for valid credit card transactions.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                               </span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">OPEN</span><span class="w"> </span><span class="kp">I-O </span><span class="w"> </span><span class="nv">TCATBAL-FILE</span><span class="w">                                               </span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">TCATBALF-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR OPENING TRANSACTION BALANCE FILE&#39;</span><span class="w">                 </span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">TCATBALF-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                                </span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="1000-dalytran-get-next">1000-DALYTRAN-GET-NEXT</h3>
<p>This paragraph reads the next record from the daily transaction file (DALYTRAN-FILE) and handles any file access errors. It sets APPL-RESULT to 0 for successful reads, 16 for end-of-file conditions, and 12 for other file errors. When a successful read occurs, processing continues normally. When end-of-file is reached, it sets the END-OF-FILE flag to 'Y'. For any other file errors, it displays an error message, captures the file status code, displays detailed I/O status information, and then terminates the program abnormally. This paragraph is a critical part of the transaction processing loop, controlling the sequential reading of input transactions.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c">READ D</span><span class="nv">ALYTRAN-FILE</span><span class="w"> </span><span class="kp">INTO</span><span class="w"> </span><span class="nv">DALYTRAN-RECORD</span><span class="p">.</span><span class="w">                             </span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">DALYTRAN-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="c">      *        DISPLAY DALYTRAN-RECORD                                          </span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">DALYTRAN-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;10&#39;</span><span class="w">                                       </span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c">      </span><span class="w">             </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">16 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                       </span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="c">      </span><span class="w">         </span><span class="kr">ELSE                                                             </span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="kr">                  </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                       </span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="c">      </span><span class="w">         </span><span class="kr">END-IF                                                           </span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="kr">          </span><span class="w"> </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="kr">              </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-EOF</span><span class="w">                                                     </span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="c">      </span><span class="w">             </span><span class="kr">MOVE </span><span class="s1">&#39;Y&#39;</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">END-OF-FILE</span><span class="w">                                      </span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="c">      </span><span class="w">         </span><span class="kr">ELSE                                                             </span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="kr">                  </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR READING DALYTRAN FILE&#39;</span><span class="w">                        </span>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="c">      </span><span class="w">             </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">DALYTRAN-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                            </span>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="c">      </span><span class="w">             </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                               </span>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="c">      </span><span class="w">             </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                   </span>
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="c">      </span><span class="w">         </span><span class="kr">END-IF                                                           </span>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="kr">          </span><span class="w"> </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span>
</code></pre></div>
</details>

<h3 id="1500-validate-tran">1500-VALIDATE-TRAN</h3>
<p>This paragraph orchestrates the transaction validation process by first performing a cross-reference lookup (1500-A-LOOKUP-XREF) to validate the card number. If this initial validation passes (indicated by WS-VALIDATION-FAIL-REASON = 0), it proceeds to look up and validate the account details by calling the 1500-B-LOOKUP-ACCT paragraph. The code includes a comment indicating where additional validation steps could be added in the future. The paragraph serves as a control point for the sequential validation steps required before a transaction can be processed.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c">PERFOR</span><span class="nv">M</span><span class="w"> </span><span class="mi">1500</span><span class="o">-</span><span class="nv">A-LOOKUP-XREF</span><span class="p">.</span><span class="w">                                          </span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF</span><span class="w"> </span><span class="nv">WS-VALIDATION-FAIL-REASON</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0                                     </span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="mi">              </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">1500</span><span class="o">-</span><span class="nv">B-LOOKUP-ACCT</span><span class="w">                                        </span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="kr">             </span><span class="w"> </span><span class="kr">CONTINUE                                                          </span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="kr">          </span><span class="w"> </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="kr">      </span><span class="o">*</span><span class="w"> </span><span class="kr">ADD</span><span class="w"> </span><span class="nv">MORE</span><span class="w"> </span><span class="nv">VALIDATIONS</span><span class="w"> </span><span class="nv">HERE</span><span class="w">                                               </span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="c">      </span><span class="w">     </span><span class="kr">EXIT</span><span class="p">.</span>
</code></pre></div>
</details>

<h3 id="1500-a-lookup-xref">1500-A-LOOKUP-XREF</h3>
<p>This paragraph performs a lookup in the card cross-reference file to validate the card number from the daily transaction record. It reads the XREF-FILE using the card number as the key. If the card number is not found (INVALID KEY), it sets the validation failure reason code to 100 and the description to "INVALID CARD NUMBER FOUND". If the card number is found, the program continues processing. This is a critical validation step that ensures transactions are only processed for valid card numbers that exist in the system.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c">*    D</span><span class="nv">ISPLAY</span><span class="w"> </span><span class="s1">&#39;CARD NUMBER: &#39;</span><span class="w"> </span><span class="nv">DALYTRAN-CARD-NUM</span><span class="w">                            </span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">DALYTRAN-CARD-NUM</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">FD-XREF-CARD-NUM</span><span class="w">                           </span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">READ</span><span class="w"> </span><span class="nv">XREF-FILE</span><span class="w"> </span><span class="kp">INTO</span><span class="w"> </span><span class="nv">CARD-XREF-RECORD</span><span class="w">                                 </span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="c">      </span><span class="w">        </span><span class="kp">INVALID</span><span class="w"> </span><span class="kp">KEY                                                       </span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="kp">               </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">100 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">WS-VALIDATION-FAIL-REASON</span><span class="w">                           </span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="c">      </span><span class="w">          </span><span class="kr">MOVE </span><span class="s1">&#39;INVALID CARD NUMBER FOUND&#39;</span><span class="w">                                </span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="c">      </span><span class="w">            </span><span class="kp">TO</span><span class="w"> </span><span class="nv">WS-VALIDATION-FAIL-REASON-DESC</span><span class="w">                             </span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="c">      </span><span class="w">        </span><span class="ow">NOT</span><span class="w"> </span><span class="kp">INVALID</span><span class="w"> </span><span class="kp">KEY                                                   </span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="kp">      </span><span class="o">*</span><span class="w">           </span><span class="kr">DISPLAY </span><span class="s1">&#39;ACCOUNT RECORD FOUND&#39;</span><span class="w">                                </span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="c">      </span><span class="w">            </span><span class="kr">CONTINUE                                                      </span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="kr">          </span><span class="w"> </span><span class="kr">END-READ                                                             </span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span>
</code></pre></div>
</details>

<h3 id="1500-b-lookup-acct">1500-B-LOOKUP-ACCT</h3>
<p>This paragraph performs account validation for a credit card transaction. It reads the account record using the account ID from the cross-reference file and performs several validation checks. First, it verifies the account exists, setting error code 101 if not found. For valid accounts, it calculates a temporary balance by adding the transaction amount to the difference between current cycle credits and debits. It then checks if this new balance would exceed the account's credit limit (error code 102) and verifies the transaction date is not after the account's expiration date (error code 103). Each validation failure sets an appropriate reason code and description for later processing. The paragraph is a critical part of the transaction validation workflow, ensuring transactions are only processed for valid, active accounts with sufficient available credit.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c">MOVE X</span><span class="nv">REF-ACCT-ID</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">FD-ACCT-ID</span><span class="w">                                      </span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">READ</span><span class="w"> </span><span class="nv">ACCOUNT-FILE</span><span class="w"> </span><span class="kp">INTO</span><span class="w"> </span><span class="nv">ACCOUNT-RECORD</span><span class="w">                                </span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="c">      </span><span class="w">        </span><span class="kp">INVALID</span><span class="w"> </span><span class="kp">KEY                                                       </span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="kp">               </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">101 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">WS-VALIDATION-FAIL-REASON</span><span class="w">                           </span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="c">      </span><span class="w">          </span><span class="kr">MOVE </span><span class="s1">&#39;ACCOUNT RECORD NOT FOUND&#39;</span><span class="w">                                 </span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="c">      </span><span class="w">            </span><span class="kp">TO</span><span class="w"> </span><span class="nv">WS-VALIDATION-FAIL-REASON-DESC</span><span class="w">                             </span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="c">      </span><span class="w">        </span><span class="ow">NOT</span><span class="w"> </span><span class="kp">INVALID</span><span class="w"> </span><span class="kp">KEY                                                   </span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="kp">      </span><span class="o">*</span><span class="w">         </span><span class="kr">DISPLAY </span><span class="s1">&#39;ACCT-CREDIT-LIMIT:&#39;</span><span class="w"> </span><span class="nv">ACCT-CREDIT-LIMIT</span><span class="w">                  </span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="c">      *         DISPLAY &#39;TRAN-AMT         :&#39; DALYTRAN-AMT                       </span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="c">      </span><span class="w">          </span><span class="kr">COMPUTE</span><span class="w"> </span><span class="nv">WS-TEMP-BAL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ACCT-CURR-CYC-CREDIT</span><span class="w">                      </span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="c">      </span><span class="w">                              </span><span class="o">-</span><span class="w"> </span><span class="nv">ACCT-CURR-CYC-DEBIT</span><span class="w">                       </span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="c">      </span><span class="w">                              </span><span class="o">+</span><span class="w"> </span><span class="nv">DALYTRAN-AMT</span><span class="w">                              </span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="c">      </span><span class="w">          </span><span class="kr">IF</span><span class="w"> </span><span class="nv">ACCT-CREDIT-LIMIT</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nv">WS-TEMP-BAL</span><span class="w">                             </span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="c">      </span><span class="w">            </span><span class="kr">CONTINUE                                                      </span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="kr">               </span><span class="w"> </span><span class="kr">ELSE                                                            </span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="kr">                 </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">102 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">WS-VALIDATION-FAIL-REASON</span><span class="w">                         </span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="c">      </span><span class="w">            </span><span class="kr">MOVE </span><span class="s1">&#39;OVERLIMIT TRANSACTION&#39;</span><span class="w">                                  </span>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="c">      </span><span class="w">              </span><span class="kp">TO</span><span class="w"> </span><span class="nv">WS-VALIDATION-FAIL-REASON-DESC</span><span class="w">                           </span>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="c">      </span><span class="w">          </span><span class="kr">END-IF                                                          </span>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="kr">               </span><span class="w"> </span><span class="kr">IF</span><span class="w"> </span><span class="nv">ACCT-EXPIRAION-DATE</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nv">DALYTRAN-ORIG-TS</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">10</span><span class="p">)</span><span class="w">               </span>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="c">      </span><span class="w">            </span><span class="kr">CONTINUE                                                      </span>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="kr">               </span><span class="w"> </span><span class="kr">ELSE                                                            </span>
<a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="kr">                 </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">103 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">WS-VALIDATION-FAIL-REASON</span><span class="w">                         </span>
<a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="c">      </span><span class="w">            </span><span class="kr">MOVE </span><span class="s1">&#39;TRANSACTION RECEIVED AFTER ACCT EXPIRATION&#39;</span><span class="w">             </span>
<a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a><span class="c">      </span><span class="w">              </span><span class="kp">TO</span><span class="w"> </span><span class="nv">WS-VALIDATION-FAIL-REASON-DESC</span><span class="w">                           </span>
<a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a><span class="c">      </span><span class="w">          </span><span class="kr">END-IF                                                          </span>
<a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="kr">          </span><span class="w"> </span><span class="kr">END-READ                                                             </span>
<a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="2000-post-transaction">2000-POST-TRANSACTION</h3>
<p>This paragraph handles the posting of a valid credit card transaction. It first maps data from the daily transaction record (DALYTRAN) to the transaction record (TRAN) fields, including transaction ID, type code, category code, source, description, amount, merchant details, card number, and original timestamp. It then generates a current timestamp in DB2 format for the transaction processing time. After preparing the transaction record, the paragraph calls three sub-procedures: one to update transaction category balances (2700-UPDATE-TCATBAL), another to update the account record with the new transaction details (2800-UPDATE-ACCOUNT-REC), and finally a procedure to write the completed transaction to the transaction file (2900-WRITE-TRANSACTION-FILE).</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c">MOVE  </span><span class="nv">DALYTRAN-ID</span><span class="w">            </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-ID</span><span class="w">                           </span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="w"> </span><span class="nv">DALYTRAN-TYPE-CD</span><span class="w">       </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-TYPE-CD</span><span class="w">                      </span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="w"> </span><span class="nv">DALYTRAN-CAT-CD</span><span class="w">        </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-CAT-CD</span><span class="w">                       </span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="w"> </span><span class="nv">DALYTRAN-SOURCE</span><span class="w">        </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-SOURCE</span><span class="w">                       </span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="w"> </span><span class="nv">DALYTRAN-DESC</span><span class="w">          </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-DESC</span><span class="w">                         </span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="w"> </span><span class="nv">DALYTRAN-AMT</span><span class="w">           </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-AMT</span><span class="w">                          </span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="w"> </span><span class="nv">DALYTRAN-MERCHANT-ID</span><span class="w">   </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-MERCHANT-ID</span><span class="w">                  </span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="w"> </span><span class="nv">DALYTRAN-MERCHANT-NAME</span><span class="w"> </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-MERCHANT-NAME</span><span class="w">                </span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="w"> </span><span class="nv">DALYTRAN-MERCHANT-CITY</span><span class="w"> </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-MERCHANT-CITY</span><span class="w">                </span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="w"> </span><span class="nv">DALYTRAN-MERCHANT-ZIP</span><span class="w">  </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-MERCHANT-ZIP</span><span class="w">                 </span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="w"> </span><span class="nv">DALYTRAN-CARD-NUM</span><span class="w">      </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-CARD-NUM</span><span class="w">                     </span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="w"> </span><span class="nv">DALYTRAN-ORIG-TS</span><span class="w">       </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-ORIG-TS</span><span class="w">                      </span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="c">      </span><span class="w">     </span><span class="kr">PERFORM</span><span class="w"> </span><span class="nv">Z-GET-DB2-FORMAT-TIMESTAMP</span><span class="w">                                   </span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="w"> </span><span class="nv">DB2-FORMAT-TS</span><span class="w">          </span><span class="kp">TO   </span><span class="w"> </span><span class="nv">TRAN-PROC-TS</span><span class="w">                      </span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="c">      </span><span class="w">     </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">2700</span><span class="o">-</span><span class="nv">UPDATE-TCATBAL</span><span class="w">                                          </span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="c">      </span><span class="w">     </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">2800</span><span class="o">-</span><span class="nv">UPDATE-ACCOUNT-REC</span><span class="w">                                      </span>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="c">      </span><span class="w">     </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">2900</span><span class="o">-</span><span class="nv">WRITE-TRANSACTION-FILE</span><span class="w">                                  </span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="c">      </span><span class="w">     </span><span class="kr">EXIT</span><span class="p">.</span>
</code></pre></div>
</details>

<h3 id="2500-write-reject-rec">2500-WRITE-REJECT-REC</h3>
<p>This paragraph handles the writing of rejected transaction records to the rejection file. It copies the original transaction data to the rejection record structure, adds validation trailer information, and attempts to write the record to the rejection file. The paragraph sets a return code of 8 to indicate a rejected transaction. If the write operation fails (status not '00'), it sets a higher return code of 12, displays an error message, shows the I/O status details, and abends the program. This ensures that any file writing failures are properly handled and reported rather than allowing the program to continue with potentially corrupted data.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c">MOVE D</span><span class="nv">ALYTRAN-RECORD</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">REJECT-TRAN-DATA</span><span class="w">                             </span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">WS-VALIDATION-TRAILER</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">VALIDATION-TRAILER</span><span class="w">                     </span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="c">      *     DISPLAY &#39;***&#39; REJECT-RECORD                                         </span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">8 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                                </span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">WRITE</span><span class="w"> </span><span class="nv">FD-REJS-RECORD</span><span class="w"> </span><span class="kp">FROM</span><span class="w"> </span><span class="nv">REJECT-RECORD</span><span class="w">                              </span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF</span><span class="w"> </span><span class="nv">DALYREJS-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                            </span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO </span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR WRITING TO REJECTS FILE&#39;</span><span class="w">                          </span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">DALYREJS-STATUS</span><span class="w">  </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                               </span>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="2700-update-tcatbal">2700-UPDATE-TCATBAL</h3>
<p>This paragraph updates transaction category balances in the TCATBAL file based on the current transaction. It first attempts to read a record using the account ID, transaction type code, and category code as the key. If the record doesn't exist (indicated by an INVALID KEY condition), it sets a flag to create a new record. The paragraph includes error handling for file operations, displaying detailed status information and aborting the program if a read error occurs. Based on whether the record exists or not, it then calls either the 2700-A-CREATE-TCATBAL-REC paragraph to create a new transaction category balance record or the 2700-B-UPDATE-TCATBAL-REC paragraph to update an existing one.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c">* Upda</span><span class="nv">te</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">balances</span><span class="w"> </span><span class="kp">in</span><span class="w"> </span><span class="nv">transaction</span><span class="w"> </span><span class="nv">balance</span><span class="w"> </span><span class="kr">file</span><span class="p">.</span><span class="w">                        </span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">XREF-ACCT-ID</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">FD-TRANCAT-ACCT-ID</span><span class="w">                              </span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">DALYTRAN-TYPE-CD</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">FD-TRANCAT-TYPE-CD</span><span class="w">                          </span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">DALYTRAN-CAT-CD</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">FD-TRANCAT-CD</span><span class="w">                                </span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="s1">&#39;N&#39;</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">WS-CREATE-TRANCAT-REC</span><span class="w">                                    </span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">READ</span><span class="w"> </span><span class="nv">TCATBAL-FILE</span><span class="w"> </span><span class="kp">INTO</span><span class="w"> </span><span class="nv">TRAN-CAT-BAL-RECORD</span><span class="w">                           </span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="c">      </span><span class="w">        </span><span class="kp">INVALID</span><span class="w"> </span><span class="kp">KEY                                                       </span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="kp">               </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;TCATBAL record not found for key : &#39;</span><span class="w">                   </span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="c">      </span><span class="w">             </span><span class="nv">FD-TRAN-CAT-KEY</span><span class="w"> </span><span class="s1">&#39;.. Creating.&#39;</span><span class="w">                               </span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="c">      </span><span class="w">          </span><span class="kr">MOVE </span><span class="s1">&#39;Y&#39;</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">WS-CREATE-TRANCAT-REC</span><span class="w">                               </span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-READ</span><span class="p">.</span><span class="w">                                                            </span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">TCATBALF-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">  </span><span class="ow">OR </span><span class="s1">&#39;23&#39;</span><span class="w">                                  </span>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR READING TRANSACTION BALANCE FILE&#39;</span><span class="w">                 </span>
<a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">TCATBALF-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                                </span>
<a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF</span><span class="p">.</span><span class="w">                                                              </span>
<a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a>
<a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF</span><span class="w"> </span><span class="nv">WS-CREATE-TRANCAT-REC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Y&#39;</span><span class="w">                                       </span>
<a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a><span class="c">      </span><span class="w">        </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">2700</span><span class="o">-</span><span class="nv">A-CREATE-TCATBAL-REC</span><span class="w">                                 </span>
<a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a><span class="kr">             </span><span class="w"> </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">2700</span><span class="o">-</span><span class="nv">B-UPDATE-TCATBAL-REC</span><span class="w">                                 </span>
<a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a>
<a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="2700-a-create-tcatbal-rec">2700-A-CREATE-TCATBAL-REC</h3>
<p>This paragraph creates and writes a new transaction category balance record. It initializes a new record structure, populates it with account ID from the cross-reference file, transaction type and category codes from the daily transaction record, and adds the transaction amount to the category balance. The record is then written to the transaction category balance file. If the write operation is successful (status '00'), processing continues normally. If the write fails, the program displays an error message, shows the I/O status details by calling the 9910-DISPLAY-IO-STATUS paragraph, and then terminates abnormally by calling the 9999-ABEND-PROGRAM paragraph. This paragraph is part of the transaction processing logic that maintains running balances by transaction category for each account.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c">INITIA</span><span class="nv">LIZE</span><span class="w"> </span><span class="nv">TRAN-CAT-BAL-RECORD</span><span class="w">                                       </span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">XREF-ACCT-ID</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">TRANCAT-ACCT-ID</span><span class="w">                                 </span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">DALYTRAN-TYPE-CD</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">TRANCAT-TYPE-CD</span><span class="w">                             </span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">DALYTRAN-CAT-CD</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">TRANCAT-CD</span><span class="w">                                   </span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ADD</span><span class="w"> </span><span class="nv">DALYTRAN-AMT</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">TRAN-CAT-BAL</span><span class="w">                                     </span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">WRITE</span><span class="w"> </span><span class="nv">FD-TRAN-CAT-BAL-RECORD</span><span class="w"> </span><span class="kp">FROM</span><span class="w"> </span><span class="nv">TRAN-CAT-BAL-RECORD</span><span class="w">                </span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">TCATBALF-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR WRITING TRANSACTION BALANCE FILE&#39;</span><span class="w">                 </span>
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">TCATBALF-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                                </span>
<a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF</span><span class="p">.</span><span class="w">                                                              </span>
<a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="2700-b-update-tcatbal-rec">2700-B-UPDATE-TCATBAL-REC</h3>
<p>This paragraph updates the transaction category balance record by adding the current transaction amount to the existing balance. It then rewrites the updated record back to the transaction category balance file. If the rewrite operation is successful (status code '00'), it sets APPL-RESULT to 0 indicating success. If the rewrite fails, it sets APPL-RESULT to 12, displays an error message, shows the I/O status, and abends the program. This ensures that transaction category balances are accurately maintained and that any file operation failures are immediately detected and handled.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c">ADD DA</span><span class="nv">LYTRAN-AMT</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">TRAN-CAT-BAL</span><span class="w">                                     </span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">REWRITE</span><span class="w"> </span><span class="nv">FD-TRAN-CAT-BAL-RECORD</span><span class="w"> </span><span class="kp">FROM</span><span class="w"> </span><span class="nv">TRAN-CAT-BAL-RECORD</span><span class="w">              </span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">TCATBALF-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR REWRITING TRANSACTION BALANCE FILE&#39;</span><span class="w">               </span>
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">TCATBALF-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                                </span>
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF</span><span class="p">.</span><span class="w">                                                              </span>
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="2800-update-account-rec">2800-UPDATE-ACCOUNT-REC</h3>
<p>This paragraph updates the account record balances to reflect a posted transaction. It adds the transaction amount to the current balance and then, based on whether the transaction is positive (credit) or negative (debit), updates either the current cycle credit or debit total accordingly. After updating the in-memory record, it attempts to rewrite the modified account record back to the account file. If the rewrite operation fails due to an invalid key (account record not found), it sets error code 109 with a descriptive message. This paragraph is a critical part of the transaction processing flow, ensuring account balances are properly maintained after a transaction is validated.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c">* Upda</span><span class="nv">te</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">balances</span><span class="w"> </span><span class="kp">in</span><span class="w"> </span><span class="nv">account</span><span class="w"> </span><span class="kp">record</span><span class="w"> </span><span class="kp">to</span><span class="w"> </span><span class="nv">reflect</span><span class="w"> </span><span class="nv">posted</span><span class="w"> </span><span class="nv">trans</span><span class="p">.</span><span class="w">          </span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">ADD</span><span class="w"> </span><span class="nv">DALYTRAN-AMT</span><span class="w">  </span><span class="kp">TO</span><span class="w"> </span><span class="nv">ACCT-CURR-BAL</span><span class="w">                                   </span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF</span><span class="w"> </span><span class="nv">DALYTRAN-AMT</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0                                                 </span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="mi">              </span><span class="kr">ADD</span><span class="w"> </span><span class="nv">DALYTRAN-AMT</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">ACCT-CURR-CYC-CREDIT</span><span class="w">                          </span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="kr">             </span><span class="w"> </span><span class="kr">ADD</span><span class="w"> </span><span class="nv">DALYTRAN-AMT</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">ACCT-CURR-CYC-DEBIT</span><span class="w">                           </span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="kr">          </span><span class="w"> </span><span class="kr">REWRITE</span><span class="w"> </span><span class="nv">FD-ACCTFILE-REC</span><span class="w"> </span><span class="kp">FROM </span><span class="w"> </span><span class="nv">ACCOUNT-RECORD</span><span class="w">                         </span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="c">      </span><span class="w">        </span><span class="kp">INVALID</span><span class="w"> </span><span class="kp">KEY                                                       </span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="kp">               </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">109 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">WS-VALIDATION-FAIL-REASON</span><span class="w">                           </span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="c">      </span><span class="w">          </span><span class="kr">MOVE </span><span class="s1">&#39;ACCOUNT RECORD NOT FOUND&#39;</span><span class="w">                                 </span>
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="c">      </span><span class="w">            </span><span class="kp">TO</span><span class="w"> </span><span class="nv">WS-VALIDATION-FAIL-REASON-DESC</span><span class="w">                             </span>
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-REWRITE</span><span class="p">.</span><span class="w">                                                         </span>
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="2900-write-transaction-file">2900-WRITE-TRANSACTION-FILE</h3>
<p>This paragraph handles writing transaction records to the transaction file. It attempts to write the TRAN-RECORD to the file and then validates the operation's success. If the write operation is successful (status '00'), it sets APPL-RESULT to 0 indicating success. If the write fails, it sets APPL-RESULT to 12 indicating an error. When an error occurs, the paragraph displays an error message, captures the file status code, displays detailed I/O status information, and then abends the program. This ensures that transaction file write failures are properly handled and reported rather than allowing the program to continue with potentially corrupted data.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO </span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                              </span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">WRITE</span><span class="w"> </span><span class="nv">FD-TRANFILE-REC</span><span class="w"> </span><span class="kp">FROM</span><span class="w"> </span><span class="nv">TRAN-RECORD</span><span class="w">                               </span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">TRANFILE-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO </span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR WRITING TO TRANSACTION FILE&#39;</span><span class="w">                      </span>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">TRANFILE-STATUS</span><span class="w">  </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                               </span>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="9000-dalytran-close">9000-DALYTRAN-CLOSE</h3>
<p>This paragraph handles the closing of the DALYTRAN-FILE (daily transaction file) with error handling. It initially sets APPL-RESULT to 8, then attempts to close the file. If the close operation is successful (status '00'), it resets APPL-RESULT to 0; otherwise, it sets APPL-RESULT to 12 indicating an error. When an error occurs, the paragraph displays an error message, captures the file status code, calls a routine to display detailed I/O status information, and then abends the program. This ensures proper file closure and appropriate error handling for the daily transaction file processing.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO </span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                              </span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">CLOSE</span><span class="w"> </span><span class="nv">DALYTRAN-FILE</span><span class="w">                                                  </span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">DALYTRAN-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR CLOSING DALYTRAN FILE&#39;</span><span class="w">                            </span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">DALYTRAN-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                                </span>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="9100-tranfile-close">9100-TRANFILE-CLOSE</h3>
<p>This paragraph handles the closing of the transaction file (TRANSACT-FILE) with error handling. It initially sets the application result code to 8, then attempts to close the file. If the close operation is successful (status '00'), it resets the result code to 0; otherwise, it sets it to 12. When an error occurs during file closing, the paragraph displays an error message, captures the file status code, calls a routine to display detailed I/O status information, and then abends the program. This ensures proper file handling and provides clear error reporting when transaction file closure fails.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO </span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                              </span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">CLOSE</span><span class="w"> </span><span class="nv">TRANSACT-FILE</span><span class="w">                                                  </span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">TRANFILE-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO </span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR CLOSING TRANSACTION FILE&#39;</span><span class="w">                         </span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">TRANFILE-STATUS</span><span class="w">  </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                               </span>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>
<a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="9200-xreffile-close">9200-XREFFILE-CLOSE</h3>
<p>This paragraph handles the closing of the cross-reference file (XREF-FILE) used to validate card numbers. It initially sets the application result code to 8, then attempts to close the file. If the close operation is successful (status '00'), it resets the result code to 0; otherwise, it sets it to 12. When an error occurs during file closing, the paragraph displays an error message, captures the file status code, calls a routine to display detailed I/O status information, and then abends the program. This ensures proper file handling and provides clear error reporting when file closure fails.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                               </span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">CLOSE</span><span class="w"> </span><span class="nv">XREF-FILE</span><span class="w">                                                      </span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">XREFFILE-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR CLOSING CROSS REF FILE&#39;</span><span class="w">                           </span>
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">XREFFILE-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                                </span>
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="9300-dalyrejs-close">9300-DALYREJS-CLOSE</h3>
<p>This paragraph handles the closing of the daily rejects file (DALYREJS-FILE) and performs error handling. It initially sets APPL-RESULT to 8, then attempts to close the file. If the close operation is successful (status code '00'), it resets APPL-RESULT to 0; otherwise, it sets APPL-RESULT to 12 indicating an error. When an error occurs, the paragraph displays an error message, retrieves the file status code, calls a routine to display the I/O status details, and then aborts the program execution by calling the abend routine. This ensures proper file closure and appropriate error handling for the daily transaction rejection file.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                               </span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">CLOSE</span><span class="w"> </span><span class="nv">DALYREJS-FILE</span><span class="w">                                                  </span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">DALYREJS-STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                           </span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR CLOSING DAILY REJECTS FILE&#39;</span><span class="w">                       </span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">XREFFILE-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                                </span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="9400-acctfile-close">9400-ACCTFILE-CLOSE</h3>
<p>This paragraph handles the closing of the Account File with error handling. It initially sets a default error code (8), then attempts to close the file. If the close operation is successful (status '00'), it resets the result code to 0; otherwise, it sets a more severe error code (12). When an error occurs, the paragraph displays an error message, captures the file status code, displays detailed I/O status information, and terminates the program abnormally. This ensures proper file closure and appropriate error handling during program termination.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                               </span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">CLOSE</span><span class="w"> </span><span class="nv">ACCOUNT-FILE</span><span class="w">                                                   </span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">ACCTFILE-STATUS</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                          </span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR CLOSING ACCOUNT FILE&#39;</span><span class="w">                             </span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">ACCTFILE-STATUS</span><span class="w">  </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                               </span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a>
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="c">      *---------------------------------------------------------------*</span>
</code></pre></div>
</details>

<h3 id="9500-tcatbalf-close">9500-TCATBALF-CLOSE</h3>
<p>This paragraph handles the closing of the Transaction Category Balance File (TCATBAL-FILE). It initially sets an error code (8) in APPL-RESULT, then attempts to close the file. If the close operation is successful (status '00'), it resets APPL-RESULT to 0 indicating success. If the close fails, it sets APPL-RESULT to 12 indicating a more severe error. When an error occurs, the paragraph displays an error message, retrieves the file status code, calls a routine to display the I/O status details, and then abends the program. This ensures proper file handling and provides clear error reporting when file closure problems occur.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c">MOVE 8</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="p">.</span><span class="w">                                               </span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">CLOSE</span><span class="w"> </span><span class="nv">TCATBAL-FILE</span><span class="w">                                                   </span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">IF </span><span class="w"> </span><span class="nv">TCATBALF-STATUS</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="w">                                          </span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                            </span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">12 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">APPL-RESULT</span><span class="w">                                           </span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="kr">          </span><span class="w"> </span><span class="kr">IF </span><span class="w"> </span><span class="nv">APPL-AOK</span><span class="w">                                                         </span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="c">      </span><span class="w">         </span><span class="kr">CONTINUE                                                         </span>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="kr">          </span><span class="w"> </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="kr">              </span><span class="w"> </span><span class="kr">DISPLAY </span><span class="s1">&#39;ERROR CLOSING TRANSACTION BALANCE FILE&#39;</span><span class="w">                 </span>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">TCATBALF-STATUS</span><span class="w">  </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w">                               </span>
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9910</span><span class="o">-</span><span class="nv">DISPLAY-IO-STATUS</span><span class="w">                                   </span>
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="c">      </span><span class="w">         </span><span class="kr">PERFORM</span><span class="w"> </span><span class="mi">9999</span><span class="o">-</span><span class="nv">ABEND-PROGRAM</span><span class="w">                                       </span>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span>
</code></pre></div>
</details>

<h3 id="z-get-db2-format-timestamp">Z-GET-DB2-FORMAT-TIMESTAMP</h3>
<p>This paragraph retrieves the current system date and time and formats it into a DB2-compatible timestamp format. It uses the FUNCTION CURRENT-DATE to get the current timestamp, then maps individual components (year, month, day, hour, minute, second, millisecond) from the COBOL timestamp structure to a DB2 timestamp format. The paragraph adds necessary formatting characters like hyphens and decimal points to create a properly formatted DB2 timestamp (YYYY-MM-DD-HH.MI.SS.MMMMMM). This timestamp can be used for database operations that require timestamp values, such as recording when transactions were processed.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c">MOVE F</span><span class="nv">UNCTION</span><span class="w"> </span><span class="nf">CURRENT-DATE</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">COBOL-TS</span><span class="w">                               </span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">COB-YYYY</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">DB2-YYYY</span><span class="w">                                            </span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">COB-MM</span><span class="w">   </span><span class="kp">TO</span><span class="w"> </span><span class="nv">DB2-MM</span><span class="w">                                              </span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">COB-DD</span><span class="w">   </span><span class="kp">TO</span><span class="w"> </span><span class="nv">DB2-DD</span><span class="w">                                              </span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">COB-HH</span><span class="w">   </span><span class="kp">TO</span><span class="w"> </span><span class="nv">DB2-HH</span><span class="w">                                              </span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">COB-MIN</span><span class="w">  </span><span class="kp">TO</span><span class="w"> </span><span class="nv">DB2-MIN</span><span class="w">                                             </span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">COB-SS</span><span class="w">   </span><span class="kp">TO</span><span class="w"> </span><span class="nv">DB2-SS</span><span class="w">                                              </span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">COB-MIL</span><span class="w">  </span><span class="kp">TO</span><span class="w"> </span><span class="nv">DB2-MIL</span><span class="w">                                             </span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="s1">&#39;0000&#39;</span><span class="w">   </span><span class="kp">TO</span><span class="w"> </span><span class="nv">DB2-REST</span><span class="w">                                            </span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="s1">&#39;-&#39;</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">DB2-STREEP-1</span><span class="w"> </span><span class="nv">DB2-STREEP-2</span><span class="w"> </span><span class="nv">DB2-STREEP-3</span><span class="w">                   </span>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE </span><span class="s1">&#39;.&#39;</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">DB2-DOT-1</span><span class="w"> </span><span class="nv">DB2-DOT-2</span><span class="w"> </span><span class="nv">DB2-DOT-3</span><span class="w">                            </span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="c">      *    DISPLAY &#39;DB2-TIMESTAMP = &#39; DB2-FORMAT-TS                             </span>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="c">      </span><span class="w">     </span><span class="kr">EXIT</span><span class="p">.</span>
</code></pre></div>
</details>

<h3 id="9999-abend-program">9999-ABEND-PROGRAM</h3>
<p>This paragraph handles abnormal program termination by displaying an "ABENDING PROGRAM" message, resetting the timing variable to zero, setting an abort code of 999, and then calling the Language Environment service 'CEE3ABD' to force an immediate program abort. This is likely used in critical error situations where the program cannot continue execution and needs to terminate in a controlled manner.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c">DISPLA</span><span class="nv">Y</span><span class="w"> </span><span class="s1">&#39;ABENDING PROGRAM&#39;</span><span class="w">                                           </span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">TIMING</span><span class="w">                                                     </span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="c">      </span><span class="w">     </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">999 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">ABCODE</span><span class="w">                                                   </span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="c">      </span><span class="w">     </span><span class="kr">CALL </span><span class="s1">&#39;CEE3ABD&#39;</span><span class="p">.</span><span class="w">                                                      </span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="c">      *****************************************************************</span>
</code></pre></div>
</details>

<h3 id="9910-display-io-status">9910-DISPLAY-IO-STATUS</h3>
<p>This paragraph handles the display of file I/O status codes in a standardized format. When a file operation error occurs, it formats the status code for display, with special handling for extended file status codes (where the first digit is '9'). For extended status codes, it extracts the first digit and converts the second byte to a binary value for proper display. For standard status codes, it formats them as '00xx' where 'xx' is the two-digit status code. The paragraph ensures consistent error reporting by displaying all file status codes in a 'NNNN' format with the message "FILE STATUS IS: NNNN" regardless of whether they are standard or extended codes.</p>
<details><summary>Code</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c">IF  IO</span><span class="o">-</span><span class="nv">STATUS</span><span class="w"> </span><span class="ow">NOT</span><span class="w"> </span><span class="kp">NUMERIC                                            </span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="kp">          </span><span class="w"> </span><span class="ow">OR </span><span class="w"> </span><span class="nv">IO-STAT1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;9&#39;</span><span class="w">                                                   </span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">IO-STAT1</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS-04</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">)</span><span class="w">                               </span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="mi">0        </span><span class="kp">TO</span><span class="w"> </span><span class="nv">TWO-BYTES-BINARY</span><span class="w">                                </span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">IO-STAT2</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">TWO-BYTES-RIGHT</span><span class="w">                                 </span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">TWO-BYTES-BINARY</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS-0403</span><span class="w">                          </span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="c">      </span><span class="w">         </span><span class="kr">DISPLAY </span><span class="s1">&#39;FILE STATUS IS: NNNN&#39;</span><span class="w"> </span><span class="nv">IO-STATUS-04</span><span class="w">                      </span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="c">      </span><span class="w">     </span><span class="kr">ELSE                                                                 </span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="kr">              </span><span class="w"> </span><span class="kr">MOVE </span><span class="s1">&#39;0000&#39;</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS-04</span><span class="w">                                      </span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="c">      </span><span class="w">         </span><span class="kr">MOVE</span><span class="w"> </span><span class="nv">IO-STATUS</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">IO-STATUS-04</span><span class="p">(</span><span class="mi">3</span><span class="p">:</span><span class="mi">2</span><span class="p">)</span><span class="w">                              </span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="c">      </span><span class="w">         </span><span class="kr">DISPLAY </span><span class="s1">&#39;FILE STATUS IS: NNNN&#39;</span><span class="w"> </span><span class="nv">IO-STATUS-04</span><span class="w">                      </span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="c">      </span><span class="w">     </span><span class="kr">END-IF                                                               </span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="kr">          </span><span class="w"> </span><span class="kr">EXIT</span><span class="p">.</span><span class="w">                                                                </span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="c">      *</span>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="c">      * Ver: CardDemo_v1.0-15-g27d6c6f-68 Date: 2022-07-19 23:12:32 CDT</span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="c">      *</span>
</code></pre></div>
</details>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.tabs", "navigation.top", "navigation.prune"], "search": "assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.f1b6f286.min.js"></script>
      
        <script src="assets/external/unpkg.com/mermaid@11/dist/mermaid.min.js"></script>
      
    
  </body>
</html>